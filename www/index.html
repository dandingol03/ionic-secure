<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
  <title></title>

  <link href="lib/ionic/css/ionic.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="css/app.css"/>
  <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
  <link href="css/ionic.app.css" rel="stylesheet">
  -->

  <!-- ionic/angularjs js -->
  <script src="lib/ionic/js/ionic.bundle.js"></script>
  <script src="lib/ngCordova/dist/ng-cordova.js"></script>
  <script type="text/javascript" src="lib/ng-baidu-map/dist/angular-baidu-map.js"></script>
  <script src="lib/ionic-timepicker/dist/ionic-timepicker.bundle.min.js"></script>
  <script src="lib/ionic-datepicker/dist/ionic-datepicker.bundle.min.js"></script>
  <script>
    var ngBaiduMap = window.ngBaiduMap;
  </script>
  <script src="cordova.js"></script>
  <!-- your app's js -->
  <script src="js/app.js"></script>
  <script src="views/login/login.js"></script>
  <script src="views/main/main.js"></script>
  <script src="views/life_insurance/life_insurance.js"></script>
  <script src="views/life_insurance/detail/detail.js"></script>
  <script src="views/insurance/insurance.js"></script>
  <script src="views/map/map.js"></script>
  <script src="views/coverage/coverage.js"></script>
  <script src="views/location/location.js"></script>
  <script src="views/car_info/car_info.js"></script>
  <script src="views/directive/directive.js"></script>
  <script src="views/price/price.js"></script>
  <script src="views/price_detail/price_detail.js"></script>
  <script src="views/life_plan/life_plan.js"></script>
  <script src="views/my/my.js"></script>
  <script src="views/personInformation/personInformation.js"></script>
  <script src="views/Life04/life04.js"></script>
  <script src="views/confirmInsurance/confirmInsurance.js"></script>
  <script src="views/dashboard/dashboard.js"></script>
  <script src="views/life_insurance_detail/life_insurance_detail.js"></script>
  <script src="views/motor_insurance/motor_insurance.js"></script>
  <script src="views/myOrder/myOrder.js"></script>
  <script src="views/motor_plan/motor_plan.js"></script>
  <script src="views/motor_plan/motor_plan_detail.js"></script>
  <script src="views/login/login.js"></script>
  <script src="views/orderCluster/orderCluster.js"></script>

  <script>

    var onDeviceReady = function() {
      console.log("JPushPlugin:Device ready!");
      initiateUI();
    };

    var getRegistrationID = function() {
      window.plugins.jPushPlugin.getRegistrationID(onGetRegistrationID);
    };

    var onGetRegistrationID = function(data) {
      try {
        console.log("JPushPlugin:registrationID is " + data);

        if (data.length == 0) {
          var t1 = window.setTimeout(getRegistrationID, 1000);
        }
      } catch (exception) {
        console.log(exception);
      }
    };

    var initiateUI = function() {
      try {
        window.plugins.jPushPlugin.init();
        getRegistrationID();
        window.plugins.jPushPlugin.setDebugMode(true);
        window.plugins.jPushPlugin.setStatisticsOpen(true);
      } catch (exception) {
        console.log(exception);
      }

      $("#setTagWithAliasButton").click(function(ev) {
        try {
          var tag1 = $("#tagText1").attr("value");
          var tag2 = $("#tagText2").attr("value");
          var tag3 = $("#tagText3").attr("value");
          var alias = $("#aliasText").attr("value");
          var tags = [];

          if (tag1 != "") {
            tags.push(tag1);
          }
          if (tag2 != "") {
            tags.push(tag2);
          }
          if (tag3 != "") {
            tags.push(tag3);
          }
          window.plugins.jPushPlugin.setTagsWithAlias(tags, alias);
        } catch (exception) {
          console.log(exception);
        }
      })
    };


    document.addEventListener("deviceready", onDeviceReady, false);
  </script>

</head>
<body ng-app="app">
<ion-nav-view></ion-nav-view>

</body>
</html>
